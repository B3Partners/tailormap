<form [formGroup]="formgroep">
  <mat-tab-group class="tab-group" [class.is-editing]="editing$ | async">
    <mat-tab *ngFor="let tab of formTabs; trackBy: trackByTabId">
      <ng-template mat-tab-label>
        {{tab.label}}
        <span *ngIf="formTabsValidation.has(tab.tabId)" class="tab--invalid-fields"></span>
      </ng-template>
      <div class="column-container">
        <div *ngFor="let column of tab.columns" class="column">
          <div *ngFor="let attr of column.attributes" class="row">
            <tailormap-formfield
              [value]=indexedAttributes.attrs.get(attr.key)?.value
              [attribute]=indexedAttributes.attrs.get(attr.key)
              [groep]="formgroep"
              [isBulk]=isBulk
              [editing]="(editing$ | async) || isBulk"
            ></tailormap-formfield>
          </div>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</form>
